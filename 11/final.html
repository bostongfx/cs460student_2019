<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>CS410 Software Engineering at the University of Massachusetts Boston</title>
    <style>
      html, body { 
        background-color:#000;
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden !important;  
        font-family: din_condensed;
        font-size: 18pt;
      }
    </style>

    <script src="https://threejs.org/build/three.min.js" type="text/javascript"></script>
    <script src="https://threejs.org/examples/js/controls/TrackballControls.js" type="text/javascript"></script>
    <script src="https://threejs.org/examples/js/effects/AnaglyphEffect.js" type="text/javascript"></script>

    <script src="https://threejs.org/examples/js/libs/dat.gui.min.js" type="text/javascript"></script>

    <script type='text/javascript'>
      window.onload = function() {
        var scene = new THREE.Scene();


        //Scene #1//
        /*** Camera***/
        var fieldOfView = 75;
        var aspectRatio = window.innerWidth / window.innerHeight;
        var nearPlane = 0.1;
        var farPlane = 1000;

        var camera = new THREE.PerspectiveCamera(
          fieldOfView, aspectRatio, nearPlane, farPlane
        );
        camera.position.z = 5;

        /*** Renderer***/
        var renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );

        /*** Image ***/
        var loader = new THREE.TextureLoader();
        var material = new THREE.MeshLambertMaterial({
          map: loader.load('cs410.png')
        });
        var geometry = new THREE.PlaneGeometry(50, 10*.75);
        mesh = new THREE.Mesh(geometry, material);
        mesh.position.set(0,0,-50)

        mesh.visible = false;

        scene.add(mesh);

        /** Lights **/
        var light = new THREE.PointLight( 0xffffff, 1, 0 );
        light.position.set(1, 1, 100 );
        scene.add(light)


        /** Render! **/
        function animate() {
        requestAnimationFrame( animate );
          renderer.render( scene, camera );
        }


        animate();


      };

      clicked = false;
      window.onclick = function() {
        
        if (clicked) return; // sometimes you click again by accident,
                             // and restart the animation.. let's not!

        // we need user feedback, to allow the music to play..
        // let's do it on click!
        clicked = true;

        animation();
        
      
      }


      function animation() {

        // start the music
        var music = document.getElementById('music');
        music.autoplay = true;
        music.load();

        setTimeout(function() {
          mesh.visible = true;
        }, 400);
       

        start_content();
      };

     
      function video(){

        var video = document.getElementById('video');
        var texture = new THREE.VideoTexture(video);
        floor.material.map = texture;
        video.play();

      }

      function image(){
        
      }


      function start_content() {

        // reduce music volume
        var music = document.getElementById('music');
        music.volume = .5;


        frames = ['content1', 'content2', 'content3', 'content4', 'content5', null];
        times = [0, // Image 
                 2000, // Today..
                 4000, // 
                 6000, // And..
                 8000, //
                 10000 //this is lecture 19
                 ];

        //
        // this is (like the whole animation concept), a little hacky!!
        //
        for (var f in frames) {
    
          setTimeout(function(f) {
            
            if (f > 0) {
              document.getElementById(frames[f-1]).style.display = 'none';
            }

            if (frames[f] != null) {
              document.getElementById(frames[f]).style.display = 'block';
            } else {
              music.volume = .1;

              setTimeout(function(f) {
                fadeout = setInterval(function(f) {
                  if (music.volume <= 0.) {
                    clearInterval(fadeout);
                    return;
                  }
                  music.volume -= .05;
                  
                }, 500);
              },3000);

              
            }

          }.bind(this,f), times[f]);

        }

      };


    </script>
  </head>
  <body>
  <div style="visibility:hidden">
    <audio id='music'>
      <source src="Harry_Potter_Theme_Song.mp3">
    </audio>
      <video id="video" loop crossOrigin="anonymous" webkit-playsinline style="display:none">
        <source src="Money_Storm.mp4" type="video/mp4">
      </video>
  </div>
  
  <div id='caption' style='display:none;position: absolute;color:white;top:45%;left:50%;margin-left:50px;font-size:440%'>CS410</div>

  <div id='content1' style='display:none;position: absolute;color:white;top:25%;left:30%;margin-left:50px;font-size:440%'>Real Project</div>

  <div id='content2' style='display:none;position: absolute;color:white;top:30%;left:20%;margin-left:50px;font-size:440%'>Real Impact</div>

  <div id='content3' style='display:none;position: absolute;color:white;top:20%;left:10%;margin-left:50px;font-size:440%'>And...</div>

  <div id='content4' style='display:none;position: absolute;color:white;top:35%;left:20%;margin-left:50px;font-size:440%'>Real $kills</div>

  <div id='content5' style='display:none;position: absolute;color:white;top:45%;left:40%;margin-left:50px;font-size:440%'>This is Software Engineering.</div>    

  </body>
</html>
